# Система подтверждения изменений настроек пользователя

Проект реализует систему подтверждения изменения настроек пользователя на Laravel 10 и Vue 3.
(Из коробки установлен Composition API)

## Содержание

- [Требования](#требования)
- [Установка](#установка)
- [Обзор архитектуры](#обзор-архитектуры)
    - [Слои и абстракции](#слои-и-абстракции)
    - [Таблицы базы данных](#таблицы-базы-данных)
    - [Связи моделей](#связи-моделей)
- [Использование](#использование)

## Требования

- PHP 8.1 или выше
- Laravel 10
- Vue 3
- Vite
- Bootstrap 5

## Установка

1. **Клонируйте репозиторий:**
```bash
git clone git@github.com:Solomka-0/article-site.git 
```
2. **Установите зависимости PHP:**
```bash 
composer install
```
3. **Установите зависимости NPM:**
```bash 
npm install
```
4. **Настройте переменные окружения:**

Скопируйте `.env.example` в `.env` и настройте параметры подключения к базе данных.

5. **Сгенерируйте ключ приложения:**
```bash 
php artisan key:generate
```
6. **Запустите миграции:**
```bash 
php artisan migrate
```
7. **Запустите сидеры:**
```bash 
php artisan db:seed
```
8. **Соберите ассеты:**
```bash 
npm run dev
```
9. **Запустите сервер разработки:**
```bash 
php artisan serve
```
10. **Запустите обработку очередей (если указан не sync):**
```bash 
php artisan queue:work
```
11. **Запустите обработку расписания:**
```bash 
php artisan schedule:work
```
## Обзор архитектуры

### Слои и абстракции

Система разделена на несколько слоев и выделены соответствующие паттерны:

1. **Контроллеры:** Обрабатывают HTTP-запросы и ответы.
2. **Запросы:** Валидация запросов.
3. **Сервисный слой:** Содержат бизнес-логику, в частности `ArticleService`.
4. **Репозитории:** Абстрагируют работу с базой данных.
5. **Модели:** Представляют сущности базы данных.
6. **Фабрики:** Реализует выбор метода подтверждения.

### Таблицы базы данных

1. **aridticles:** Хранит информацию о статьях.
    - `title`
    - `slug`
    - `excerpt`
    - `content`
    - `thumbnail`
    - `cover_image`
    - `likes_count`
    - `views_count`
    - `published_at`
    - `created_at`
    - `updated_at`
    - `deleted_at`
2. **comments:** Хранит комментарии к статьям.
    - `id`
    - `article_id`
    - `subject`
    - `body`
    - `created_at`
    - `updated_at`
    - `deleted_at`
3. **tags:** Хранит теги для категорий статей.
    - `id`
    - `name`
    - `slug`
    - `created_at`
    - `updated_at`
4. **article_tag:** Связующая таблица "многие-ко-многим" между статьями и тегами.
    - `id`
    - `article_id`
    - `tag_id`

### Связи моделей

- **Article** (один) - **Comment** (многие)
- **Article** (многие) - **Tags** (многие)

## Использование

1. **Просмотр списка статей:**

    На главной странице отображается список последних добавленных статей с миниатюрами.
    Используйте пагинацию для навигации между страницами статей.


2. **Просмотр конкретной статьи:** 

   Кликните по заголовку или изображению статьи для перехода на страницу подробного просмотра.
   На странице отображаются:
   - Изображение обложки статьи.
   - Заголовок и содержимое статьи.
   - Теги, связанные со статьёй.
   - Количество лайков и просмотров.
   - Форма для добавления комментария.

    Не предусмотрено отображение комментариев!


3. **Лайк статьи:** 

   Нажмите на кнопку "❤️" для того, чтобы поставить лайк статье.
   Количество лайков обновится автоматически.


4. **Просмотры статьи:**

   Просмотры автоматически увеличиваются при посещении страницы статьи.
   Инкремент просмотра происходит с задержкой в 5 секунд после открытия страницы.


5. **Добавление комментария:**

   На странице статьи заполните форму комментария, указав тему и текст сообщения.
   Нажмите "Отправить" для добавления комментария.
   После успешной отправки комментария вы увидите сообщение об успешном добавлении.


6. **Навигация по разделам:**

    Используйте навигационное меню в верхней части страницы для перемещения по приложению.


7. **Пагинация:**

   Для перемещения между страницами используйте элементы пагинации внизу списка статей.

